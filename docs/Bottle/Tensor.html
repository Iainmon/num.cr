<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.30.1">


<link href="../css/style.css" rel="stylesheet" type="text/css">

<script type="text/javascript" src="../js/doc.js"></script>
<script type="text/javascript">
  CrystalDoc.base_path = "../";
</script>

  <meta id="repository-name" content="github.com/crystal-data/bottle">
  <title>Bottle::Tensor(T) - github.com/crystal-data/bottle</title>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="repository-links">
      <a href="../index.html">README</a>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class="parent open current" data-id="github.com/crystal-data/bottle/Bottle" data-name="bottle">
      <a href="../Bottle.html">Bottle</a>
      
        <ul>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/B" data-name="bottle::b">
      <a href="../Bottle/B.html">B</a>
      
    </li>
  
  <li class="parent " data-id="github.com/crystal-data/bottle/Bottle/Internal" data-name="bottle::internal">
      <a href="../Bottle/Internal.html">Internal</a>
      
        <ul>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/ArrayFlags" data-name="bottle::internal::arrayflags">
      <a href="../Bottle/Internal/ArrayFlags.html">ArrayFlags</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Assemble" data-name="bottle::internal::assemble">
      <a href="../Bottle/Internal/Assemble.html">Assemble</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Binary" data-name="bottle::internal::binary">
      <a href="../Bottle/Internal/Binary.html">Binary</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Comparison" data-name="bottle::internal::comparison">
      <a href="../Bottle/Internal/Comparison.html">Comparison</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/ContigIter" data-name="bottle::internal::contigiter(t)">
      <a href="../Bottle/Internal/ContigIter.html">ContigIter</a>
      
    </li>
  
  <li class="parent " data-id="github.com/crystal-data/bottle/Bottle/Internal/Dtype" data-name="bottle::internal::dtype">
      <a href="../Bottle/Internal/Dtype.html">Dtype</a>
      
        <ul>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Dtype/BNum" data-name="bottle::internal::dtype::bnum">
      <a href="../Bottle/Internal/Dtype/BNum.html">BNum</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Dtype/Double" data-name="bottle::internal::dtype::double">
      <a href="../Bottle/Internal/Dtype/Double.html">Double</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Dtype/Ftnlen" data-name="bottle::internal::dtype::ftnlen">
      <a href="../Bottle/Internal/Dtype/Ftnlen.html">Ftnlen</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Dtype/Indexer" data-name="bottle::internal::dtype::indexer">
      <a href="../Bottle/Internal/Dtype/Indexer.html">Indexer</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Dtype/Integer" data-name="bottle::internal::dtype::integer">
      <a href="../Bottle/Internal/Dtype/Integer.html">Integer</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Dtype/LFp" data-name="bottle::internal::dtype::lfp">
      <a href="../Bottle/Internal/Dtype/LFp.html">LFp</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Dtype/Logical" data-name="bottle::internal::dtype::logical">
      <a href="../Bottle/Internal/Dtype/Logical.html">Logical</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Dtype/Real" data-name="bottle::internal::dtype::real">
      <a href="../Bottle/Internal/Dtype/Real.html">Real</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Dtype/UInt" data-name="bottle::internal::dtype::uint">
      <a href="../Bottle/Internal/Dtype/UInt.html">UInt</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/crystal-data/bottle/Bottle/Internal/Exceptions" data-name="bottle::internal::exceptions">
      <a href="../Bottle/Internal/Exceptions.html">Exceptions</a>
      
        <ul>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Exceptions/RangeError" data-name="bottle::internal::exceptions::rangeerror">
      <a href="../Bottle/Internal/Exceptions/RangeError.html">RangeError</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Exceptions/ShapeError" data-name="bottle::internal::exceptions::shapeerror">
      <a href="../Bottle/Internal/Exceptions/ShapeError.html">ShapeError</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Exceptions/TypeError" data-name="bottle::internal::exceptions::typeerror">
      <a href="../Bottle/Internal/Exceptions/TypeError.html">TypeError</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/FlatIter" data-name="bottle::internal::flatiter(t)">
      <a href="../Bottle/Internal/FlatIter.html">FlatIter</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Iteration" data-name="bottle::internal::iteration">
      <a href="../Bottle/Internal/Iteration.html">Iteration</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/LinAlg" data-name="bottle::internal::linalg">
      <a href="../Bottle/Internal/LinAlg.html">LinAlg</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/MatrixIter" data-name="bottle::internal::matrixiter(t)">
      <a href="../Bottle/Internal/MatrixIter.html">MatrixIter</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/NDIter" data-name="bottle::internal::nditer(t)">
      <a href="../Bottle/Internal/NDIter.html">NDIter</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Numeric" data-name="bottle::internal::numeric">
      <a href="../Bottle/Internal/Numeric.html">Numeric</a>
      
    </li>
  
  <li class="parent " data-id="github.com/crystal-data/bottle/Bottle/Internal/SafeNDIter" data-name="bottle::internal::safenditer(t)">
      <a href="../Bottle/Internal/SafeNDIter.html">SafeNDIter</a>
      
        <ul>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/SafeNDIter/ND" data-name="bottle::internal::safenditer::nd(t)">
      <a href="../Bottle/Internal/SafeNDIter/ND.html">ND</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/SafeNDIter/OneD" data-name="bottle::internal::safenditer::oned(t)">
      <a href="../Bottle/Internal/SafeNDIter/OneD.html">OneD</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Statistics" data-name="bottle::internal::statistics">
      <a href="../Bottle/Internal/Statistics.html">Statistics</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Testing" data-name="bottle::internal::testing">
      <a href="../Bottle/Internal/Testing.html">Testing</a>
      
    </li>
  
  <li class="parent " data-id="github.com/crystal-data/bottle/Bottle/Internal/ToString" data-name="bottle::internal::tostring">
      <a href="../Bottle/Internal/ToString.html">ToString</a>
      
        <ul>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/ToString/TensorPrint" data-name="bottle::internal::tostring::tensorprint(t)">
      <a href="../Bottle/Internal/ToString/TensorPrint.html">TensorPrint</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/Trigonometric" data-name="bottle::internal::trigonometric">
      <a href="../Bottle/Internal/Trigonometric.html">Trigonometric</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/UFunc" data-name="bottle::internal::ufunc">
      <a href="../Bottle/Internal/UFunc.html">UFunc</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/UnsafeIter" data-name="bottle::internal::unsafeiter(t)">
      <a href="../Bottle/Internal/UnsafeIter.html">UnsafeIter</a>
      
    </li>
  
  <li class="parent " data-id="github.com/crystal-data/bottle/Bottle/Internal/UnsafeNDIter" data-name="bottle::internal::unsafenditer(t)">
      <a href="../Bottle/Internal/UnsafeNDIter.html">UnsafeNDIter</a>
      
        <ul>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/UnsafeNDIter/ND" data-name="bottle::internal::unsafenditer::nd(t)">
      <a href="../Bottle/Internal/UnsafeNDIter/ND.html">ND</a>
      
    </li>
  
  <li class=" " data-id="github.com/crystal-data/bottle/Bottle/Internal/UnsafeNDIter/OneD" data-name="bottle::internal::unsafenditer::oned(t)">
      <a href="../Bottle/Internal/UnsafeNDIter/OneD.html">OneD</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class=" current" data-id="github.com/crystal-data/bottle/Bottle/Tensor" data-name="bottle::tensor(t)">
      <a href="../Bottle/Tensor.html">Tensor</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1 class="type-name">

  <span class="kind">struct</span> Bottle::Tensor(T)

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../Bottle/Tensor.html">Bottle::Tensor(T)</a></li><li class="superclass">Struct</li><li class="superclass">Value</li><li class="superclass">Object</li></ul>








  <h2>Included Modules</h2>
  <ul class="other-types-list">
  
    <li class="other-type"><a href="../Bottle/Internal.html">Bottle::Internal</a></li>
  
  </ul>










  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L34" target="_blank">
        core/ndtensor.cr
      </a>
    
    <br/>
  





  <h2>Constructors</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#new(nrows:Int32,ncols:Int32,&block:Int32,Int32-%3ET)-class-method" class="signature"><strong>.new</strong>(nrows : Int32, ncols : Int32, &block : Int32, Int32 -> T)</a>
        
          <div class="summary"><p>Yields a <code><a href="../Bottle/Tensor.html">Tensor</a></code> from a provided number of rows and columns.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new(_shape:Array(Int32),&block:Int32-%3EU)forallU-class-method" class="signature"><strong>.new</strong>(_shape : Array(Int32), &block : Int32 -> U) forall U</a>
        
          <div class="summary"><p>Yields a <code><a href="../Bottle/Tensor.html">Tensor</a></code> from a provided shape and a block.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new(buffer,shape,strides,flags,base)-class-method" class="signature"><strong>.new</strong>(buffer, shape, strides, flags, base)</a>
        
          <div class="summary"><p>Internal method to create tensors from low level libraries.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#new(_shape:Array(Int32),order:ArrayFlags=ArrayFlags::Contiguous,ptr:Pointer(T)?=nil)-class-method" class="signature"><strong>.new</strong>(_shape : Array(Int32), order : ArrayFlags = <span class="t">ArrayFlags</span><span class="t">::</span><span class="t">Contiguous</span>, ptr : Pointer(T)? = <span class="n">nil</span>)</a>
        
          <div class="summary"><p>Creates a <code><a href="../Bottle/Tensor.html">Tensor</a></code> from a provided shape and order.</p></div>
        
      </li>
    
  </ul>



  <h2>Class Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#from_array(_shape:Array(Int32),_data:Array)-class-method" class="signature"><strong>.from_array</strong>(_shape : Array(Int32), _data : Array)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#random(r:Range(U,U),_shape:Array(Int32))forallU-class-method" class="signature"><strong>.random</strong>(r : Range(U, U), _shape : Array(Int32)) forall U</a>
        
          <div class="summary"><p>A flexible method to create <code><a href="../Bottle/Tensor.html">Tensor</a></code>'s of arbitrary shapes filled with random values of arbitrary types.</p></div>
        
      </li>
    
  </ul>



  <h2>Instance Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#*(other:Number)-instance-method" class="signature"><strong>#*</strong>(other : Number)</a>
        
          <div class="summary"><p>Elementwise multiplication of a Tensor to a scalar</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#*(other:Tensor)-instance-method" class="signature"><strong>#*</strong>(other : Tensor)</a>
        
          <div class="summary"><p>Elementwise multiplication of a Tensor to another equally sized Tensor</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#+(other:Tensor)-instance-method" class="signature"><strong>#+</strong>(other : Tensor)</a>
        
          <div class="summary"><p>Elementwise addition of a Tensor to another equally sized Tensor</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#+(other:Number)-instance-method" class="signature"><strong>#+</strong>(other : Number)</a>
        
          <div class="summary"><p>Elementwise addition of a Tensor to a scalar</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#-(other:Tensor)-instance-method" class="signature"><strong>#-</strong>(other : Tensor)</a>
        
          <div class="summary"><p>Elementwise subtraction of a Tensor to another equally sized Tensor</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#-(other:Number)-instance-method" class="signature"><strong>#-</strong>(other : Number)</a>
        
          <div class="summary"><p>Elementwise subtraction of a Tensor with a scalar</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#/(other:Number)-instance-method" class="signature"><strong>#/</strong>(other : Number)</a>
        
          <div class="summary"><p>Elementwise division of a Tensor to a scalar</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#/(other:Tensor)-instance-method" class="signature"><strong>#/</strong>(other : Tensor)</a>
        
          <div class="summary"><p>Elementwise division of a Tensor to another equally sized Tensor</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#[](indexer:Array(Int32))-instance-method" class="signature"><strong>#[]</strong>(indexer : Array(Int32))</a>
        
          <div class="summary"><p>An indexing method for an array of Integers that produce a scalar.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#[](*args)-instance-method" class="signature"><strong>#[]</strong>(*args)</a>
        
          <div class="summary"><p>Returns a view of a NTensor from a list of indices or ranges.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#[]=(indexer:Array(Int32),value:Number)-instance-method" class="signature"><strong>#[]=</strong>(indexer : Array(Int32), value : Number)</a>
        
          <div class="summary"><p>Sets a single value in a <code><a href="../Bottle/Tensor.html">Tensor</a></code> based on the provided index.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#[]=(idx:Array,assign:Bottle::Tensor(T))-instance-method" class="signature"><strong>#[]=</strong>(idx : Array, assign : Bottle::Tensor(T))</a>
        
          <div class="summary"><p>Assigns a <code><a href="../Bottle/Tensor.html">Tensor</a></code> to a slice of an array.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#[]=(*args:*U)forallU-instance-method" class="signature"><strong>#[]=</strong>(*args : <span class="o">*</span><span class="t">U</span>) forall U</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#aref_set(*args,value:Bottle::Tensor(T))-instance-method" class="signature"><strong>#aref_set</strong>(*args, value : Bottle::Tensor(T))</a>
        
          <div class="summary"><p>Assigns a <code><a href="../Bottle/Tensor.html">Tensor</a></code> to a slice of an array.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#aref_set(*args,value:Number)-instance-method" class="signature"><strong>#aref_set</strong>(*args, value : Number)</a>
        
          <div class="summary"><p>Assigns a scalar value to a slice of a <code><a href="../Bottle/Tensor.html">Tensor</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#diag_view-instance-method" class="signature"><strong>#diag_view</strong></a>
        
          <div class="summary"><p>Returns a view of the diagonal of a <code><a href="../Bottle/Tensor.html">Tensor</a></code>  only valid if the <code><a href="../Bottle/Tensor.html">Tensor</a></code> has two dimensions.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#dup(f:ArrayFlags=ArrayFlags::None)-instance-method" class="signature"><strong>#dup</strong>(f : ArrayFlags = <span class="t">ArrayFlags</span><span class="t">::</span><span class="t">None</span>)</a>
        
          <div class="summary"><p>Duplicates a <code><a href="../Bottle/Tensor.html">Tensor</a></code>, respecting the passed order of memory provided.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#dup_view-instance-method" class="signature"><strong>#dup_view</strong></a>
        
          <div class="summary"><p>Shallow copies the <code><a href="../Bottle/Tensor.html">Tensor</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#flags:ArrayFlags-instance-method" class="signature"><strong>#flags</strong> : ArrayFlags</a>
        
          <div class="summary"><p>Flags describing the memory layout of the array</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#flat_iter-instance-method" class="signature"><strong>#flat_iter</strong></a>
        
          <div class="summary"><p>Returns a safe flattened view of the `Tensor.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#is_contiguous-instance-method" class="signature"><strong>#is_contiguous</strong></a>
        
          <div class="summary"><p>Asserts if a <code><a href="../Bottle/Tensor.html">Tensor</a></code> is c contiguous, otherwise known as stored in row major order.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#is_fortran_contiguous-instance-method" class="signature"><strong>#is_fortran_contiguous</strong></a>
        
          <div class="summary"><p>Asserts if a <code><a href="../Bottle/Tensor.html">Tensor</a></code> is fortran contiguous, otherwise known as stored in column major order.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#matrix_iter-instance-method" class="signature"><strong>#matrix_iter</strong></a>
        
          <div class="summary"><p>Iterates along the final two axes of a <code><a href="../Bottle/Tensor.html">Tensor</a></code>, useful for matrix operations on n-dimensional Tensors.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#max-instance-method" class="signature"><strong>#max</strong></a>
        
          <div class="summary"><p>Compuates the maximum value of a <code><a href="../Bottle/Tensor.html">Tensor</a></code></p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#nbytes-instance-method" class="signature"><strong>#nbytes</strong></a>
        
          <div class="summary"><p>Total number of bytes taken up by items in the <code><a href="../Bottle/Tensor.html">Tensor</a></code>s data buffer.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#ndims:Int32-instance-method" class="signature"><strong>#ndims</strong> : Int32</a>
        
          <div class="summary"><p>Integer representing the number of dimensions of a <code><a href="../Bottle/Tensor.html">Tensor</a></code></p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#ptr_at(idx:Array(Int32))-instance-method" class="signature"><strong>#ptr_at</strong>(idx : Array(Int32))</a>
        
          <div class="summary"><p>Calculate the offset of an element in the <code><a href="../Bottle/Tensor.html">Tensor</a></code> from a provided index and the strides of the <code><a href="../Bottle/Tensor.html">Tensor</a></code></p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reduce_along_axis(axis,&block)-instance-method" class="signature"><strong>#reduce_along_axis</strong>(axis, &block)</a>
        
      </li>
    
      <li class="entry-summary">
        <a href="#reshape(newshape:Array(Int32))-instance-method" class="signature"><strong>#reshape</strong>(newshape : Array(Int32))</a>
        
          <div class="summary"><p>Fits a <code><a href="../Bottle/Tensor.html">Tensor</a></code> into a new shape, not altering memory if possible.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#shape:Array(Int32)-instance-method" class="signature"><strong>#shape</strong> : Array(Int32)</a>
        
          <div class="summary"><p>Array-like container holding the dimensions of a <code><a href="../Bottle/Tensor.html">Tensor</a></code></p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#size:Int32-instance-method" class="signature"><strong>#size</strong> : Int32</a>
        
          <div class="summary"><p>The total number of elements contained in a <code><a href="../Bottle/Tensor.html">Tensor</a></code></p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#slice(idx:Array(Int32%7CRange(Int32,Int32)))-instance-method" class="signature"><strong>#slice</strong>(idx : Array(Int32 | Range(Int32, Int32)))</a>
        
          <div class="summary"><p>Slices a <code><a href="../Bottle/Tensor.html">Tensor</a></code> from an array of integers or ranges Primarily used when you can't pass *args to the index method but still need the functionality.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#strides:Array(Int32)-instance-method" class="signature"><strong>#strides</strong> : Array(Int32)</a>
        
          <div class="summary"><p>Array-like container holding the strides of a <code><a href="../Bottle/Tensor.html">Tensor</a></code></p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#sum-instance-method" class="signature"><strong>#sum</strong></a>
        
          <div class="summary"><p>Computes the sum of each value of a Tensor</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#to_s(io)-instance-method" class="signature"><strong>#to_s</strong>(io)</a>
        
          <div class="summary"><p>Creates a string representation of a <code><a href="../Bottle/Tensor.html">Tensor</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#trans_iter-instance-method" class="signature"><strong>#trans_iter</strong></a>
        
          <div class="summary"><p>Returns a safe transposed view of the <code><a href="../Bottle/Tensor.html">Tensor</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#transpose(order:Array(Int32)=[]ofInt32)-instance-method" class="signature"><strong>#transpose</strong>(order : Array(Int32) = <span class="o">[]</span> <span class="k">of</span> <span class="t">Int32</span>)</a>
        
          <div class="summary"><p>Permute the dimensions of a <code><a href="../Bottle/Tensor.html">Tensor</a></code>.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#unsafe_iter-instance-method" class="signature"><strong>#unsafe_iter</strong></a>
        
          <div class="summary"><p>Returns an unsafe iter that does no bounds checking, but instead keeps incrementing the data pointer of a <code><a href="../Bottle/Tensor.html">Tensor</a></code> indefinitely.</p></div>
        
      </li>
    
  </ul>





<div class="methods-inherited">
  
    


    


    


  
    


    


    


  
    


    


    


  
    


    


    


  
</div>


  <h2>Constructor Detail</h2>
  
    <div class="entry-detail" id="new(nrows:Int32,ncols:Int32,&amp;block:Int32,Int32-&gt;T)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(nrows : Int32, ncols : Int32, &block : Int32, Int32 -> T)

        <a class="method-permalink" href="#new(nrows:Int32,ncols:Int32,&block:Int32,Int32-%3ET)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Yields a <code><a href="../Bottle/Tensor.html">Tensor</a></code> from a provided number of rows and columns.
This can quickly create matrices, useful for several <code><a href="../Bottle/Tensor.html">Tensor</a></code> creattion
methods such as the underlying implementation of <code>eye</code>, and <code>diag</code>.</p>

<p>This method does provide <em>i</em> and <em>j</em> variables for the passed block,
so no offset calculations need to be done by the user.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>(<span class="n">3</span>, <span class="n">3</span>) { <span class="o">|</span>i, j<span class="o">|</span> i <span class="o">==</span> j ? <span class="n">1</span> : <span class="n">0</span> }
t <span class="c"># =&gt;</span>
<span class="t">Tensor</span>([[<span class="n">1</span>, <span class="n">0</span>, <span class="n">0</span>],
        [<span class="n">0</span>, <span class="n">1</span>, <span class="n">0</span>],
        [<span class="n">0</span>, <span class="n">0</span>, <span class="n">1</span>]])</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L118" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(_shape:Array(Int32),&amp;block:Int32-&gt;U)forallU-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(_shape : Array(Int32), &block : Int32 -> U) forall U

        <a class="method-permalink" href="#new(_shape:Array(Int32),&block:Int32-%3EU)forallU-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Yields a <code><a href="../Bottle/Tensor.html">Tensor</a></code> from a provided shape and a block.  The block only
provides the absolute index, not an index dependent on the shape,
so if a user wants to handle an arbitrary shape inside the block
they need to do that themselves.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">2</span>, <span class="n">2</span>, <span class="n">3</span>]) { <span class="o">|</span>i<span class="o">|</span> i <span class="o">/</span> <span class="n">2</span> }
t <span class="c"># =&gt;</span>
<span class="t">Tensor</span>([[[ <span class="n">0</span>,  <span class="n">1</span>],
         [ <span class="n">2</span>,  <span class="n">3</span>]],

        [[ <span class="n">4</span>,  <span class="n">5</span>],
         [ <span class="n">6</span>,  <span class="n">7</span>]],

        [[ <span class="n">8</span>,  <span class="n">9</span>],
         [<span class="n">10</span>, <span class="n">11</span>]]])</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L85" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(buffer,shape,strides,flags,base)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(buffer, shape, strides, flags, base)

        <a class="method-permalink" href="#new(buffer,shape,strides,flags,base)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Internal method to create tensors from low level libraries.
This does no validation on inputs and is very unsafe unless
called by the library.</p>

<p>Should not be used by the external API.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L230" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="new(_shape:Array(Int32),order:ArrayFlags=ArrayFlags::Contiguous,ptr:Pointer(T)?=nil)-class-method">
      <div class="signature">
        
        def self.<strong>new</strong>(_shape : Array(Int32), order : <a href="../Bottle/Internal/ArrayFlags.html">ArrayFlags</a> = <span class="t">ArrayFlags</span><span class="t">::</span><span class="t">Contiguous</span>, ptr : Pointer(T)? = <span class="n">nil</span>)

        <a class="method-permalink" href="#new(_shape:Array(Int32),order:ArrayFlags=ArrayFlags::Contiguous,ptr:Pointer(T)?=nil)-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a <code><a href="../Bottle/Tensor.html">Tensor</a></code> from a provided shape and order.
If a pointer to data is passed, no validation ensures
that the memory layout matches the passed order, so
this method is considered "unsafe".</p>

<p>Primarily used by internal methods, however this can be used to
create empty <code>Tensors</code>, although the publicly
facing methods should be preferred.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>(<span class="t">Int32</span>).<span class="k">new</span>([<span class="n">2</span>, <span class="n">2</span>, <span class="n">3</span>], order: <span class="t">ArrayFlags</span><span class="t">::</span><span class="t">Fortran</span>)
t <span class="c"># =&gt;</span>
<span class="t">Tensor</span>([[[<span class="n">0</span>, <span class="n">0</span>, <span class="n">0</span>],
         [<span class="n">0</span>, <span class="n">0</span>, <span class="n">0</span>]],

        [[<span class="n">0</span>, <span class="n">0</span>, <span class="n">0</span>],
         [<span class="n">0</span>, <span class="n">0</span>, <span class="n">0</span>]]])</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L169" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>Class Method Detail</h2>
  
    <div class="entry-detail" id="from_array(_shape:Array(Int32),_data:Array)-class-method">
      <div class="signature">
        
        def self.<strong>from_array</strong>(_shape : Array(Int32), _data : Array)

        <a class="method-permalink" href="#from_array(_shape:Array(Int32),_data:Array)-class-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L93" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="random(r:Range(U,U),_shape:Array(Int32))forallU-class-method">
      <div class="signature">
        
        def self.<strong>random</strong>(r : Range(U, U), _shape : Array(Int32)) forall U

        <a class="method-permalink" href="#random(r:Range(U,U),_shape:Array(Int32))forallU-class-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>A flexible method to create <code><a href="../Bottle/Tensor.html">Tensor</a></code>'s of arbitrary shapes
filled with random values of arbitrary types.  Since
Ranges can contain any dtype, the type of tensor is
inferred from the passed range, and a new <code><a href="../Bottle/Tensor.html">Tensor</a></code> is
sampled using the provided shape.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.random(<span class="n">0</span>...<span class="n">10</span>, [<span class="n">2</span>, <span class="n">2</span>])
t <span class="c"># =&gt;</span>
<span class="t">Tensor</span>([[<span class="n">5</span>, <span class="n">9</span>],
        [<span class="n">3</span>, <span class="n">9</span>]])</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L143" target="_blank">View source</a>]
        
      </div>
    </div>
  



  <h2>Instance Method Detail</h2>
  
    <div class="entry-detail" id="*(other:Number)-instance-method">
      <div class="signature">
        
        def <strong>*</strong>(other : Number)

        <a class="method-permalink" href="#*(other:Number)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Elementwise multiplication of a Tensor to a scalar</p>

<pre><code>f1 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">1.0</span>, <span class="n">2.0</span>, <span class="n">3.0</span>]
f2 <span class="o">=</span> <span class="n">2</span>
f1 <span class="o">+</span> f2 <span class="c"># =&gt; [2.0, 4.0, 6.0]</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L906" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="*(other:Tensor)-instance-method">
      <div class="signature">
        
        def <strong>*</strong>(other : <a href="../Bottle/Tensor.html">Tensor</a>)

        <a class="method-permalink" href="#*(other:Tensor)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Elementwise multiplication of a Tensor to another equally sized Tensor</p>

<pre><code>f1 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">1.0</span>, <span class="n">2.0</span>, <span class="n">3.0</span>]
f2 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">2.0</span>, <span class="n">4.0</span>, <span class="n">6.0</span>]
f1 <span class="o">*</span> f2 <span class="c"># =&gt; [3.0, 8.0, 18.0]</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L895" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="+(other:Tensor)-instance-method">
      <div class="signature">
        
        def <strong>+</strong>(other : <a href="../Bottle/Tensor.html">Tensor</a>)

        <a class="method-permalink" href="#+(other:Tensor)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Elementwise addition of a Tensor to another equally sized Tensor</p>

<pre><code>f1 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">1.0</span>, <span class="n">2.0</span>, <span class="n">3.0</span>]
f2 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">2.0</span>, <span class="n">4.0</span>, <span class="n">6.0</span>]
f1 <span class="o">+</span> f2 <span class="c"># =&gt; [3.0, 6.0, 9.0]</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L851" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="+(other:Number)-instance-method">
      <div class="signature">
        
        def <strong>+</strong>(other : Number)

        <a class="method-permalink" href="#+(other:Number)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Elementwise addition of a Tensor to a scalar</p>

<pre><code>f1 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">1.0</span>, <span class="n">2.0</span>, <span class="n">3.0</span>]
f2 <span class="o">=</span> <span class="n">2</span>
f1 <span class="o">+</span> f2 <span class="c"># =&gt; [3.0, 4.0, 5.0]</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L862" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="-(other:Tensor)-instance-method">
      <div class="signature">
        
        def <strong>-</strong>(other : <a href="../Bottle/Tensor.html">Tensor</a>)

        <a class="method-permalink" href="#-(other:Tensor)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Elementwise subtraction of a Tensor to another equally sized Tensor</p>

<pre><code>f1 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">1.0</span>, <span class="n">2.0</span>, <span class="n">3.0</span>]
f2 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">2.0</span>, <span class="n">4.0</span>, <span class="n">6.0</span>]
f1 <span class="o">-</span> f2 <span class="c"># =&gt; [-1.0, -2.0, -3.0]</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L873" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="-(other:Number)-instance-method">
      <div class="signature">
        
        def <strong>-</strong>(other : Number)

        <a class="method-permalink" href="#-(other:Number)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Elementwise subtraction of a Tensor with a scalar</p>

<pre><code>f1 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">1.0</span>, <span class="n">2.0</span>, <span class="n">3.0</span>]
f2 <span class="o">=</span> <span class="n">2</span>
f1 <span class="o">-</span> f2 <span class="c"># =&gt; [-1.0, 0.0, 1.0]</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L884" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="/(other:Number)-instance-method">
      <div class="signature">
        
        def <strong>/</strong>(other : Number)

        <a class="method-permalink" href="#/(other:Number)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Elementwise division of a Tensor to a scalar</p>

<pre><code>f1 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">1.0</span>, <span class="n">2.0</span>, <span class="n">3.0</span>]
f2 <span class="o">=</span> <span class="n">2</span>
f1 <span class="o">/</span> f2 <span class="c"># =&gt; [0.5, 1, 1.5]</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L928" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="/(other:Tensor)-instance-method">
      <div class="signature">
        
        def <strong>/</strong>(other : <a href="../Bottle/Tensor.html">Tensor</a>)

        <a class="method-permalink" href="#/(other:Tensor)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Elementwise division of a Tensor to another equally sized Tensor</p>

<pre><code>f1 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">1.0</span>, <span class="n">2.0</span>, <span class="n">3.0</span>]
f2 <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">2.0</span>, <span class="n">4.0</span>, <span class="n">6.0</span>]
f1 <span class="o">/</span> f2 <span class="c"># =&gt; [0.5, 0.5, 0.5]</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L917" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[](indexer:Array(Int32))-instance-method">
      <div class="signature">
        
        def <strong>[]</strong>(indexer : Array(Int32))

        <a class="method-permalink" href="#[](indexer:Array(Int32))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>An indexing method for an array of Integers
that produce a scalar.  I need to find a good
way to handle a case where the user provides
a list that is less than the dimensions of
the array, and needs to return an NTensor slice</p>

<pre><code>a <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">2</span>, <span class="n">3</span>, <span class="n">2</span>]) { <span class="o">|</span>i<span class="o">|</span> i }
a[[<span class="n">0</span>, <span class="n">1</span>, <span class="n">0</span>]] <span class="c"># =&gt; 8</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L289" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[](*args)-instance-method">
      <div class="signature">
        
        def <strong>[]</strong>(*args)

        <a class="method-permalink" href="#[](*args)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns a view of a NTensor from a list of indices or
ranges.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">2</span>, <span class="n">4</span>, <span class="n">4</span>]) { <span class="o">|</span>i<span class="o">|</span> i }</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L336" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[]=(indexer:Array(Int32),value:Number)-instance-method">
      <div class="signature">
        
        def <strong>[]=</strong>(indexer : Array(Int32), value : Number)

        <a class="method-permalink" href="#[]=(indexer:Array(Int32),value:Number)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Sets a single value in a <code><a href="../Bottle/Tensor.html">Tensor</a></code> based on
the provided index.  Casting will occur
so that the number matches the type of the
Tensor.</p>

<pre><code>a <span class="o">=</span> <span class="t">B</span>.arange(<span class="n">10</span>)
a[[<span class="n">1</span>]] <span class="o">=</span> <span class="n">100</span>
a <span class="c"># =&gt; Tensor([  0, 100,   2,   3,   4,   5,   6,   7,   8,   9])</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L313" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[]=(idx:Array,assign:Bottle::Tensor(T))-instance-method">
      <div class="signature">
        
        def <strong>[]=</strong>(idx : Array, assign : <a href="../Bottle/Tensor.html">Bottle::Tensor</a>(T))

        <a class="method-permalink" href="#[]=(idx:Array,assign:Bottle::Tensor(T))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Assigns a <code><a href="../Bottle/Tensor.html">Tensor</a></code> to a slice of an array.
The provided tensor must be the same shape
as the slice in order for this method to
work.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">3</span>, <span class="n">2</span>, <span class="n">2</span>]) { <span class="o">|</span>i<span class="o">|</span> i }
t[[<span class="n">1</span>]] <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">2</span>, <span class="n">2</span>]) { <span class="o">|</span>i<span class="o">|</span> i <span class="o">*</span> <span class="n">20</span> }
t <span class="c"># =&gt;</span>
<span class="t">Tensor</span>([[[ <span class="n">0</span>,  <span class="n">1</span>],
         [ <span class="n">2</span>,  <span class="n">3</span>]],

        [[ <span class="n">0</span>, <span class="n">20</span>],
         [<span class="n">40</span>, <span class="n">60</span>]],

        [[ <span class="n">8</span>,  <span class="n">9</span>],
         [<span class="n">10</span>, <span class="n">11</span>]]])</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L364" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="[]=(*args:*U)forallU-instance-method">
      <div class="signature">
        
        def <strong>[]=</strong>(*args : <span class="o">*</span><span class="t">U</span>) forall U

        <a class="method-permalink" href="#[]=(*args:*U)forallU-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L373" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="aref_set(*args,value:Bottle::Tensor(T))-instance-method">
      <div class="signature">
        
        def <strong>aref_set</strong>(*args, value : <a href="../Bottle/Tensor.html">Bottle::Tensor</a>(T))

        <a class="method-permalink" href="#aref_set(*args,value:Bottle::Tensor(T))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Assigns a <code><a href="../Bottle/Tensor.html">Tensor</a></code> to a slice of an array.
The provided tensor must be the same shape
as the slice in order for this method to
work.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">3</span>, <span class="n">2</span>, <span class="n">2</span>]) { <span class="o">|</span>i<span class="o">|</span> i }
t[[<span class="n">1</span>]] <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">2</span>, <span class="n">2</span>]) { <span class="o">|</span>i<span class="o">|</span> i <span class="o">*</span> <span class="n">20</span> }
t <span class="c"># =&gt;</span>
<span class="t">Tensor</span>([[[ <span class="n">0</span>,  <span class="n">1</span>],
         [ <span class="n">2</span>,  <span class="n">3</span>]],

        [[ <span class="n">0</span>, <span class="n">20</span>],
         [<span class="n">40</span>, <span class="n">60</span>]],

        [[ <span class="n">8</span>,  <span class="n">9</span>],
         [<span class="n">10</span>, <span class="n">11</span>]]])</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L402" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="aref_set(*args,value:Number)-instance-method">
      <div class="signature">
        
        def <strong>aref_set</strong>(*args, value : Number)

        <a class="method-permalink" href="#aref_set(*args,value:Number)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Assigns a scalar value to a slice of a <code><a href="../Bottle/Tensor.html">Tensor</a></code>.
The value is tiled along the entire slice.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">2</span>, <span class="n">2</span>, <span class="n">3</span>]) { <span class="o">|</span>i<span class="o">|</span> i }
t[[<span class="n">1</span>]] <span class="o">=</span> <span class="n">99</span>
t <span class="c">#=&gt;</span>
<span class="t">Tensor</span>([[[ <span class="n">0</span>,  <span class="n">1</span>],
         [ <span class="n">2</span>,  <span class="n">3</span>]],

        [[<span class="n">99</span>, <span class="n">99</span>],
         [<span class="n">99</span>, <span class="n">99</span>]],

        [[<span class="n">99</span>, <span class="n">99</span>],
         [<span class="n">99</span>, <span class="n">99</span>]]])</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L428" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="diag_view-instance-method">
      <div class="signature">
        
        def <strong>diag_view</strong>

        <a class="method-permalink" href="#diag_view-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns a view of the diagonal of a <code><a href="../Bottle/Tensor.html">Tensor</a></code>  only valid if
the <code><a href="../Bottle/Tensor.html">Tensor</a></code> has two dimensions.  Offsets are not supported.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">3</span>, <span class="n">3</span>]) { <span class="o">|</span>i<span class="o">|</span> i }
t.diag_view <span class="c"># =&gt; Tensor([0, 4, 8])</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L562" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="dup(f:ArrayFlags=ArrayFlags::None)-instance-method">
      <div class="signature">
        
        def <strong>dup</strong>(f : <a href="../Bottle/Internal/ArrayFlags.html">ArrayFlags</a> = <span class="t">ArrayFlags</span><span class="t">::</span><span class="t">None</span>)

        <a class="method-permalink" href="#dup(f:ArrayFlags=ArrayFlags::None)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Duplicates a <code><a href="../Bottle/Tensor.html">Tensor</a></code>, respecting the passed order of memory
provided.  Useful for throwing <code><a href="../Bottle/Tensor.html">Tensor</a></code>s down to LAPACK
since they must be in Fortran style order, and this
avoids the copy if they are.</p>

<pre><code>t <span class="o">=</span> <span class="t">B</span>.arange(<span class="n">5</span>)
t.dup <span class="c"># =&gt; Tensor([0, 1, 2, 3, 4])</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L510" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="dup_view-instance-method">
      <div class="signature">
        
        def <strong>dup_view</strong>

        <a class="method-permalink" href="#dup_view-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Shallow copies the <code><a href="../Bottle/Tensor.html">Tensor</a></code>.  Shape and strides are copied, but
the underlying data is not.  The returned <code><a href="../Bottle/Tensor.html">Tensor</a></code> does
not own its own data, and its base reflects that.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L548" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="flags:ArrayFlags-instance-method">
      <div class="signature">
        
        def <strong>flags</strong> : <a href="../Bottle/Internal/ArrayFlags.html">ArrayFlags</a>

        <a class="method-permalink" href="#flags:ArrayFlags-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Flags describing the memory layout of the array</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L56" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="flat_iter-instance-method">
      <div class="signature">
        
        def <strong>flat_iter</strong>

        <a class="method-permalink" href="#flat_iter-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns a safe flattened view of the `Tensor.  This method will
raise <code>STOPITERATION</code> when the elements of the <code><a href="../Bottle/Tensor.html">Tensor</a></code>
have been exhausted.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L240" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="is_contiguous-instance-method">
      <div class="signature">
        
        def <strong>is_contiguous</strong>

        <a class="method-permalink" href="#is_contiguous-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Asserts if a <code><a href="../Bottle/Tensor.html">Tensor</a></code> is c contiguous, otherwise known
as stored in row major order.  This is the default memory
storage for NDArray</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L604" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="is_fortran_contiguous-instance-method">
      <div class="signature">
        
        def <strong>is_fortran_contiguous</strong>

        <a class="method-permalink" href="#is_fortran_contiguous-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Asserts if a <code><a href="../Bottle/Tensor.html">Tensor</a></code> is fortran contiguous, otherwise known
as stored in column major order.  This is not the default
layout for <code><a href="../Bottle/Tensor.html">Tensor</a></code>'s, but can provide performance benefits
when passing to LaPACK routines since otherwise the
<code><a href="../Bottle/Tensor.html">Tensor</a></code> must be transposed in memory.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L579" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="matrix_iter-instance-method">
      <div class="signature">
        
        def <strong>matrix_iter</strong>

        <a class="method-permalink" href="#matrix_iter-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Iterates along the final two axes of a <code><a href="../Bottle/Tensor.html">Tensor</a></code>, useful
for matrix operations on n-dimensional Tensors.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L834" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="max-instance-method">
      <div class="signature">
        
        def <strong>max</strong>

        <a class="method-permalink" href="#max-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Compuates the maximum value of a <code><a href="../Bottle/Tensor.html">Tensor</a></code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L943" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="nbytes-instance-method">
      <div class="signature">
        
        def <strong>nbytes</strong>

        <a class="method-permalink" href="#nbytes-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Total number of bytes taken up by items in the <code><a href="../Bottle/Tensor.html">Tensor</a></code>s
data buffer.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L840" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="ndims:Int32-instance-method">
      <div class="signature">
        
        def <strong>ndims</strong> : Int32

        <a class="method-permalink" href="#ndims:Int32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Integer representing the number of dimensions of a <code><a href="../Bottle/Tensor.html">Tensor</a></code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L53" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="ptr_at(idx:Array(Int32))-instance-method">
      <div class="signature">
        
        def <strong>ptr_at</strong>(idx : Array(Int32))

        <a class="method-permalink" href="#ptr_at(idx:Array(Int32))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Calculate the offset of an element in the <code><a href="../Bottle/Tensor.html">Tensor</a></code> from
a provided index and the strides of the <code><a href="../Bottle/Tensor.html">Tensor</a></code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L262" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reduce_along_axis(axis,&amp;block)-instance-method">
      <div class="signature">
        
        def <strong>reduce_along_axis</strong>(axis, &block)

        <a class="method-permalink" href="#reduce_along_axis(axis,&block)-instance-method">#</a>
      </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L808" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="reshape(newshape:Array(Int32))-instance-method">
      <div class="signature">
        
        def <strong>reshape</strong>(newshape : Array(Int32))

        <a class="method-permalink" href="#reshape(newshape:Array(Int32))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Fits a <code><a href="../Bottle/Tensor.html">Tensor</a></code> into a new shape, not
altering memory if possible.  However, the <code><a href="../Bottle/Tensor.html">Tensor</a></code> is
usually copied.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">2</span>, <span class="n">4</span>, <span class="n">3</span>]])

t.reshape([<span class="n">2</span>, <span class="n">2</span>, <span class="n">2</span>, <span class="n">3</span>]) <span class="c"># =&gt;</span>
<span class="t">Tensor</span>([[[[ <span class="n">0</span>,  <span class="n">1</span>,  <span class="n">2</span>],
          [ <span class="n">6</span>,  <span class="n">7</span>,  <span class="n">8</span>]],

         [[ <span class="n">3</span>,  <span class="n">4</span>,  <span class="n">5</span>],
          [ <span class="n">9</span>, <span class="n">10</span>, <span class="n">11</span>]]],


        [[[<span class="n">12</span>, <span class="n">13</span>, <span class="n">14</span>],
          [<span class="n">18</span>, <span class="n">19</span>, <span class="n">20</span>]],

         [[<span class="n">15</span>, <span class="n">16</span>, <span class="n">17</span>],
          [<span class="n">21</span>, <span class="n">22</span>, <span class="n">23</span>]]]])</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L681" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="shape:Array(Int32)-instance-method">
      <div class="signature">
        
        def <strong>shape</strong> : Array(Int32)

        <a class="method-permalink" href="#shape:Array(Int32)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Array-like container holding the dimensions of a <code><a href="../Bottle/Tensor.html">Tensor</a></code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L47" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="size:Int32-instance-method">
      <div class="signature">
        
        def <strong>size</strong> : Int32

        <a class="method-permalink" href="#size:Int32-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>The total number of elements contained in a <code><a href="../Bottle/Tensor.html">Tensor</a></code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L59" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="slice(idx:Array(Int32|Range(Int32,Int32)))-instance-method">
      <div class="signature">
        
        def <strong>slice</strong>(idx : Array(Int32 | Range(Int32, Int32)))

        <a class="method-permalink" href="#slice(idx:Array(Int32%7CRange(Int32,Int32)))-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Slices a <code><a href="../Bottle/Tensor.html">Tensor</a></code> from an array of integers or ranges
Primarily used when you can't pass *args to the index
method but still need the functionality.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">2</span>, <span class="n">2</span>, <span class="n">3</span>]) { <span class="o">|</span>i<span class="o">|</span> i }
t.slice([<span class="n">0</span>, <span class="n">0</span>...<span class="n">1</span>, <span class="n">0</span>...<span class="n">2</span>]) <span class="c">#=&gt;</span>
<span class="t">Tensor</span>([[<span class="n">0</span>, <span class="n">1</span>]])</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L497" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="strides:Array(Int32)-instance-method">
      <div class="signature">
        
        def <strong>strides</strong> : Array(Int32)

        <a class="method-permalink" href="#strides:Array(Int32)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Array-like container holding the strides of a <code><a href="../Bottle/Tensor.html">Tensor</a></code></p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L50" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="sum-instance-method">
      <div class="signature">
        
        def <strong>sum</strong>

        <a class="method-permalink" href="#sum-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Computes the sum of each value of a Tensor</p>

<pre><code>v <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span> [<span class="n">1</span>, <span class="n">2</span>, <span class="n">3</span>, <span class="n">4</span>]
v.sum <span class="c"># =&gt; 10</span></code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L938" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="to_s(io)-instance-method">
      <div class="signature">
        
        def <strong>to_s</strong>(io)

        <a class="method-permalink" href="#to_s(io)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Creates a string representation of a <code><a href="../Bottle/Tensor.html">Tensor</a></code>.  The implementation
of this is a bit of a mess, but I am happy with the results currently,
it could however be cleaned up to handle long floating point values
more precisely.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L274" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="trans_iter-instance-method">
      <div class="signature">
        
        def <strong>trans_iter</strong>

        <a class="method-permalink" href="#trans_iter-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns a safe transposed view of the <code><a href="../Bottle/Tensor.html">Tensor</a></code>.  Primarily
useful for swapping memory layout of an array in the duplication
routine.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L247" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="transpose(order:Array(Int32)=[]ofInt32)-instance-method">
      <div class="signature">
        
        def <strong>transpose</strong>(order : Array(Int32) = <span class="o">[]</span> <span class="k">of</span> <span class="t">Int32</span>)

        <a class="method-permalink" href="#transpose(order:Array(Int32)=[]ofInt32)-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Permute the dimensions of a <code><a href="../Bottle/Tensor.html">Tensor</a></code>.  If no order is provided,
the dimensions will be reversed, a "true transpose".  Otherwise,
the dimensions will be permutated in the order provided.</p>

<pre><code>t <span class="o">=</span> <span class="t">Tensor</span>.<span class="k">new</span>([<span class="n">2</span>, <span class="n">4</span>, <span class="n">3</span>]) { <span class="o">|</span>i<span class="o">|</span> i }
t.transpose([<span class="n">2</span>, <span class="n">0</span>, <span class="n">1</span>])
<span class="t">Tensor</span>([[[ <span class="n">0</span>,  <span class="n">3</span>,  <span class="n">6</span>,  <span class="n">9</span>],
         [<span class="n">12</span>, <span class="n">15</span>, <span class="n">18</span>, <span class="n">21</span>]],

        [[ <span class="n">1</span>,  <span class="n">4</span>,  <span class="n">7</span>, <span class="n">10</span>],
         [<span class="n">13</span>, <span class="n">16</span>, <span class="n">19</span>, <span class="n">22</span>]],

        [[ <span class="n">2</span>,  <span class="n">5</span>,  <span class="n">8</span>, <span class="n">11</span>],
         [<span class="n">14</span>, <span class="n">17</span>, <span class="n">20</span>, <span class="n">23</span>]]])</code></pre>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L756" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="unsafe_iter-instance-method">
      <div class="signature">
        
        def <strong>unsafe_iter</strong>

        <a class="method-permalink" href="#unsafe_iter-instance-method">#</a>
      </div>
      
        <div class="doc">
          
          <p>Returns an unsafe iter that does no bounds checking, but instead
keeps incrementing the data pointer of a <code><a href="../Bottle/Tensor.html">Tensor</a></code> indefinitely.</p>

<p>Useful for fast iteration in internal methods, but is highly
unsafe for external API use.</p>
        </div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/crystal-data/bottle/blob/d0f2bf09aed5891f3717d396ce6785f23a698e52/src/core/ndtensor.cr#L256" target="_blank">View source</a>]
        
      </div>
    </div>
  




</div>

</body>
</html>
